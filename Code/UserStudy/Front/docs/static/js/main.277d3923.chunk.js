(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(28),o=n(17),c=n(9),i=n(29),l=n(16),u=function(e){return{type:"SET_ACTIVE_COMPONENT",component:e}},s=function(e,t){return{type:"TOGGLE_MASK",mask:Object(l.a)({},e,t)}},h=function(e){return{type:"SET_MODE",mode:e}},f=Object(o.b)({activeComponent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Welcome",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_COMPONENT":return t.component;default:return e}},points:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATASET":return t.points;default:return e}},labels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATASET":return t.labels;default:return e}},attributes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATASET":return t.attributes;default:return e}},candidates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CANDIDATES":return t.candidates;default:return e}},mask:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATASET":var n={};return t.attributes.forEach(function(e){var t=Object(r.a)(e,2),a=t[0];t[1],n[a]=1}),n;case"TOGGLE_MASK":return Object(i.a)({},e,t.mask);default:return e}},prunedPoints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTART":return[];case"PRUNE_POINTS":var n=t.indices.map(function(e){return[e,t.step]});return[].concat(Object(c.a)(n),Object(c.a)(e));default:return e}},leftPoints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTART":return[];case"SET_LEFT_POINTS":return t.indices;case"PRUNE_POINTS":return e.filter(function(e){return-1===t.indices.indexOf(e)});default:return e}},numLeftPoints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LEFT_POINTS":return[t.indices.length];case"PRUNE_POINTS":var n=e[e.length-1];return[].concat(Object(c.a)(e),[n-t.indices.length]);default:return e}},mode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"simplex",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODE":return t.mode;default:return e}},vertices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CONVEX_HULL":return t.vertices;default:return e}},scores:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SCORE":return t.scores;default:return e}},userName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NAME":return t.name;default:return e}},userEmail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EMAIL":return t.email;default:return e}},interactionResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INTERACTION_RESULT":return t.interactionResults;default:return e}}}),p=n(1),m=n.n(p),d=n(27),v=n(6),y=n(3),b=n(4),E=n(5),g=n(7),w=n(2);function O(){O=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,c=Object.create(o.prototype),i=new R(a||[]);return r(c,"_invoke",{value:w(e,n,i)}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var h={};function f(){}function p(){}function m(){}var d={};l(d,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(d=y);var b=m.prototype=f.prototype=Object.create(d);function E(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function g(e,t){var a;r(this,"_invoke",{value:function(r,o){function c(){return new t(function(a,c){!function r(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(h).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,i)})}i(l.arg)}(r,o,a,c)})}return a=a?a.then(c,c):c()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return P()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=x(c,n);if(i){if(i===h)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},E(g.prototype),l(g.prototype,c,function(){return this}),e.AsyncIterator=g,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new g(u(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},E(b),l(b,i,"Generator"),l(b,o,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function x(e){return e.trim().split("\n").slice(1).map(function(e){return e.trim().split(/\s+/).map(function(e){return parseFloat(e)})})}function k(e){return e.trim().split("\n")}var j=function(){var e=Object(a.a)(O().mark(function e(t,n){var r,a,o;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return r=e.sent,e.t0=x,e.next=6,r.text();case 6:if(e.t1=e.sent,a=(0,e.t0)(e.t1),void 0!==n){e.next=10;break}return e.abrupt("return",a);case 10:return e.next=12,fetch(n);case 12:return r=e.sent,e.t2=k,e.next=16,r.text();case 16:return e.t3=e.sent,o=(0,e.t2)(e.t3),e.abrupt("return",[a,o]);case 19:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),R=function(e,t,n,r){for(var a,o,c,i=[],l=0;l<e.length&&!(i.length>=r);++l){for(var u=e[l],s=!0,h=0;h<u.length;++h)if(n[h]&&(a=u[h],o=t[h][0],c=t[h][1],!(o<=a&&a<=c))){s=!1;break}s&&i.push(u)}return i},S=function(e){var t=new window.Module.VecVecDouble;return e.forEach(function(e){var n=new window.Module.VectorDouble;e.forEach(function(e){return n.push_back(e)}),t.push_back(n),n.delete()}),t},P=function(e){for(var t=[],n=0;n<e.size();++n)t.push(e.get(n));return t};function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(w.a)(e);if(t){var a=Object(w.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var C=function(e){Object(E.a)(n,e);var t=N(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).handleStart=function(){var e=r.inputs.name.current.value.trim(),t=r.inputs.email.current.value.trim();""!==e?""!==t?r.props.start(e,t):alert("Please input your email address."):alert("Please input your name.")},r.handleModeChange=function(e){r.props.changeMode(e.target.value)},r.inputs={},r.inputs.name=m.a.createRef(),r.inputs.email=m.a.createRef(),r}return Object(b.a)(n,[{key:"render",value:function(){return m.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"40rem"}},m.a.createElement("h1",null,"Welcome to Our Research Project!"),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("tr",{key:"name"},m.a.createElement("td",{className:"align-middle",style:{fontSize:"30px",textAlign:"center"}},"\xa0 Please input your name: \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),m.a.createElement("td",null,m.a.createElement("input",{type:"text",className:"form-control",placeholder:"Name",ref:this.inputs.name,style:{width:"300px"}}))),m.a.createElement("br",null),m.a.createElement("tr",{key:"email"},m.a.createElement("td",{className:"align-middle",style:{fontSize:"30px",textAlign:"center"}},"\xa0 Please input your email address: \xa0"),m.a.createElement("td",null,m.a.createElement("input",{type:"text",className:"form-control",placeholder:"Email",ref:this.inputs.email,style:{width:"300px"}}))),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("p",{className:"lead text-muted"},'Click the "Continue" button to continue. ',m.a.createElement("br",null)),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-primary",style:{width:"8rem"},onClick:this.handleStart},"Continue")))}}]),n}(m.a.Component),L=Object(v.b)(function(e){return{attributes:e.attributes,mask:e.mask,points:e.points,mode:e.mode}},function(e){return{start:function(t,n){e({type:"SET_NAME",name:t}),e({type:"SET_EMAIL",email:n}),e(u("Declaration"))},toggleMask:function(t,n){return e(s(t,n))},changeMode:function(t){return e(h(t))}}})(C);function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(w.a)(e);if(t){var a=Object(w.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var _=function(e){Object(E.a)(n,e);var t=T(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).handleStart=function(){r.props.start()},r.handleModeChange=function(e){r.props.changeMode(e.target.value)},r}return Object(b.a)(n,[{key:"render",value:function(){return m.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"40rem"}},m.a.createElement("h1",null,"Declaration"),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("p",{className:"lead text-left"},"We are conducting a user study for a research project. All answers of the questions will be recorded for research purpose. The purpose is to explore critical factors for evaluating user preferences in the recommendation system.",m.a.createElement("br",null),m.a.createElement("br",null),"We want to assure you that any data collected during this study will remain strictly confidential. We will take all necessary steps to protect your personal information and ensure that it is not shared with any unauthorized individuals or organizations.",m.a.createElement("br",null),m.a.createElement("br",null),"We promise that we will not disclose any individual sensitive data that may be obtained through this study. However, we may disclose general statistics, such as the overall findings of the study, to third parties.",m.a.createElement("br",null),m.a.createElement("br",null),"Your participation in this survey is voluntary, and you have the right to decline to answer any question or to withdraw from the survey at any time without any penalty or negative consequences."),m.a.createElement("br",null),m.a.createElement("p",{className:"lead text-muted"},'Click the "Agree" button to confirm that you have read and understood the above terms and conditions. ',m.a.createElement("br",null)),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-primary",style:{width:"8rem"},onClick:this.handleStart},"Agree")))}}]),n}(m.a.Component),M=Object(v.b)(function(e){return{attributes:e.attributes,mask:e.mask,points:e.points,mode:e.mode}},function(e){return{start:function(){e(u("Introduction"))},toggleMask:function(t,n){return e(s(t,n))},changeMode:function(t){return e(h(t))}}})(_);function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(w.a)(e);if(t){var a=Object(w.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var A=function(e){Object(E.a)(n,e);var t=I(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).handleStart=function(){r.props.start()},r.handleModeChange=function(e){r.props.changeMode(e.target.value)},r}return Object(b.a)(n,[{key:"render",value:function(){return m.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"40rem"}},m.a.createElement("h1",null,"Instructions"),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("p",{className:"lead text-left",style:{fontSize:"30px"}},"There are two phases: Interaction and Evaluation. ",m.a.createElement("br",null)),m.a.createElement("p",{className:"lead text-left"},"Phase 1 (Interaction): In the Interaction phase, we want to ask you a few questions to learn your preference and then find some cars that you will be interested in. ",m.a.createElement("br",null),m.a.createElement("br",null),"Phase 2 (Evaluation): In the Evaluation phase, we will present you some cars and ask you whether you are interested in them.",m.a.createElement("br",null),m.a.createElement("br",null)),m.a.createElement("p",{className:"lead text-muted"},'Click the "Start" button to start the research project. ',m.a.createElement("br",null)),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-primary",style:{width:"8rem"},onClick:this.handleStart},"Start")))}}]),n}(m.a.Component),B=Object(v.b)(function(e){return{attributes:e.attributes,mask:e.mask,points:e.points,mode:e.mode}},function(e){return{start:function(){e(u("PhaseOne"))},toggleMask:function(t,n){return e(s(t,n))},changeMode:function(t){return e(h(t))}}})(A);function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(w.a)(e);if(t){var a=Object(w.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var G=function(e){Object(E.a)(n,e);var t=V(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).handleStart=function(){for(var e=[],t=[],n=0;n<a.props.attributes.length;++n){var o=Object(r.a)(a.props.attributes[n],2),c=o[0],i=o[1],l=[i.low,i.high];e.push(l),t.push(a.props.mask[c])}var u=R(a.props.points,e,t,1e3);0!==u.length?a.props.startAlgorithm(u):alert("No matching cars, try larger ranges")},a.handleModeChange=function(e){a.props.changeMode(e.target.value)},a.inputs={},a.props.attributes.forEach(function(e){var t=Object(r.a)(e,2),n=t[0];t[1];a.inputs[n]=[m.a.createRef(),m.a.createRef()]}),a.inputs.maxPoints=m.a.createRef(),a}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return this.props.attributes.map(function(t){var n=Object(r.a)(t,2),a=n[0],o=n[1],c=0===e.props.mask[a],i=o.low,l=o.high;return m.a.createElement("tr",{key:a},m.a.createElement("td",{className:"align-middle"},a),m.a.createElement("td",null,m.a.createElement("input",{type:"text",className:"form-control",placeholder:i,ref:e.inputs[a][0],disabled:c})),m.a.createElement("td",null,m.a.createElement("input",{type:"text",className:"form-control",placeholder:l,ref:e.inputs[a][1],disabled:c})),m.a.createElement("td",{className:"align-middle hidden"},m.a.createElement("input",{type:"checkbox",checked:c,onChange:function(){return e.props.toggleMask(a,1-e.props.mask[a])}})))}).push(m.a.createElement("tr",{key:"other"},m.a.createElement("td",{className:"align-middle font-weight-bold"},"Max No. of Cars"),m.a.createElement("td",null,m.a.createElement("input",{type:"text",className:"form-control",placeholder:"1000",ref:this.inputs.maxPoints})),m.a.createElement("td",null,m.a.createElement("div",{className:"col form-inline align-items-center"},m.a.createElement("label",{className:"mr-4 col-form-label font-weight-bold"},"Mode"),m.a.createElement("div",{className:"mr-3 form-check form-check-inline"},m.a.createElement("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"simplex",value:"simplex",checked:"simplex"===this.props.mode,onChange:this.handleModeChange}),m.a.createElement("label",{className:"form-check-label",htmlFor:"simplex"},"Simplex")),m.a.createElement("div",{className:"form-check form-check-inline"},m.a.createElement("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"random",value:"random",checked:"random"===this.props.mode,onChange:this.handleModeChange}),m.a.createElement("label",{className:"form-check-label",htmlFor:"random"},"Random")))),m.a.createElement("td",null))),m.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"40rem"}},m.a.createElement("h1",null,"Phase One: Interaction"),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("h4",null,"You are now in phase one Interaction. You will be asked with multiple questions to find your favorite cars. ",m.a.createElement("br",null)),m.a.createElement("br",null),m.a.createElement("p",{className:"lead text-muted"},'Click the "Continue" button to continue. ',m.a.createElement("br",null)),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-primary",style:{width:"8rem"},onClick:this.handleStart},"Continue")))}}]),n}(m.a.Component),F=Object(v.b)(function(e){return{attributes:e.attributes,mask:e.mask,points:e.points,mode:e.mode}},function(e){return{startAlgorithm:function(t){e(function(e){return{type:"SET_CANDIDATES",candidates:e}}(t)),e(u("Interaction"))},toggleMask:function(t,n){return e(s(t,n))},changeMode:function(t){return e(h(t))}}})(G);function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(w.a)(e);if(t){var a=Object(w.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var W=2,H=1,U=function(e){Object(E.a)(n,e);var t=D(n);function n(e){var a;Object(y.a)(this,n),(a=t.call(this,e)).choose=function(e){var t=e+1,n=a.state.pair.map(function(e,t){var n="\n";return a.props.candidates[e].forEach(function(e,t){n+=e.toString(),n+="  "}),n});if(n.push("\n"),n.push(t),n.push("\n"),console.log(n),a.state.interRR.push(n),a.runner.choose(t)>.99999)a.stopInteraction();else{var r=a.runner.nextPair();a.setState({pair:P(r)})}},a.stopInteraction=function(){var e=a.runner.getRanking();a.props.setLeftPoints(P(e));var t=a.runner.getScore();a.props.setScore(P(t)),a.runner.delete(),a.props.showResult(a.state.interRR)};var o=new window.Module.VectorInt;a.attributes=[],a.props.attributes.forEach(function(e){var t=Object(r.a)(e,2),n=t[0],c=t[1];a.props.mask[n]&&(o.push_back(c.smallerBetter?1:0),a.attributes.push(n))});var c=S(a.props.candidates);a.runner=new window.Module.AlgorithmRunner(c,o,"random"===a.props.mode?H:W),c.delete();var i=a.runner.nextPair();return a.state={pair:P(i),interRR:[]},a}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=[m.a.createElement("th",{key:"Option No."},"Option")];this.attributes.forEach(function(e){t.push(m.a.createElement("th",{key:e},e))}),t.push(m.a.createElement("th",{key:"chooseButton"}));var n=this.state.pair.map(function(t,n){var r=[m.a.createElement("td",{key:"Option No."},n+1)];return e.props.candidates[t].forEach(function(e,t){r.push(m.a.createElement("td",{key:t},e))}),r.push(m.a.createElement("td",{key:"chooseButton"},m.a.createElement("button",{type:"button",className:"btn btn-outline-success btn-sm",onClick:function(){return e.choose(n)}},"Choose"))),m.a.createElement("tr",{key:n,"data-toggle":"tooltip",title:e.props.labels[t]},r)});return m.a.createElement("div",null,m.a.createElement("h3",null,"Phase One: Interaction  "),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("h4",null,"Q",this.runner.getNumQuestion(),": Choose the Car you favor more between the following options"),m.a.createElement("div",{className:"row justify-content-center align-items-center"},m.a.createElement("div",{className:"col-md-8"},m.a.createElement("table",{className:"table table-hover text-center"},m.a.createElement("thead",null,m.a.createElement("tr",null,t)),m.a.createElement("tbody",null,n)))))}}]),n}(m.a.Component),Y=Object(v.b)(function(e){return{labels:e.labels,candidates:e.candidates,mask:e.mask,attributes:e.attributes,numLeftPoints:e.numLeftPoints,mode:e.mode,scores:e.scores}},function(e){return{showResult:function(t){e({type:"SET_INTERACTION_RESULT",interactionResults:t}),e(u("PhaseTwo"))},setLeftPoints:function(t){e(function(e){return{type:"SET_LEFT_POINTS",indices:e}}(t))},setScore:function(t){e(function(e){return{type:"SET_SCORE",scores:e}}(t))},prunePoints:function(t,n){e(function(e,t){return{type:"PRUNE_POINTS",indices:e,step:t}}(t,n))},updateConvexHull:function(t){e(function(e){return{type:"UPDATE_CONVEX_HULL",vertices:e}}(t))}}})(U),q=n(13);function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(w.a)(e);if(t){var a=Object(w.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var Q=function(e){Object(E.a)(n,e);var t=z(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e))._onMouseLeave=function(){r.setState({hintValue:null})},r._onNearestX=function(e,t){var n=t.index;r.setState({hintValue:r.props.data[n]})},r.state={hintValue:null},r}return Object(b.a)(n,[{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement("h4",null,"No. of Cars Left vs. No. of Questions Asked"),m.a.createElement("div",{style:{width:"25rem",height:"25rem"}},m.a.createElement(q.b,{onMouseLeave:this._onMouseLeave},m.a.createElement(q.e,{tickValues:this.props.data.map(function(e,t){return t}),tickFormat:function(e){return e.toString()},style:{ticks:{fill:"black"}}}),m.a.createElement(q.f,{style:{ticks:{fill:"black"}}}),m.a.createElement(q.a,{text:"Question No.",includeMargin:!1,xPercent:.82,yPercent:1.06,style:{style:{fill:"black"}}}),m.a.createElement(q.a,{text:"No. of Cars Left",includeMargin:!1,xPercent:-.01,yPercent:.05,style:{transform:"rotate(-90)",textAnchor:"end",style:{fill:"black"}}}),m.a.createElement(q.d,{color:"rgb(0, 123, 255)",onNearestX:this._onNearestX,data:this.props.data,animation:!0}),this.state.hintValue&&m.a.createElement(q.c,{value:this.state.hintValue},m.a.createElement("p",{style:{color:"black"}},"Q",this.state.hintValue.x,": ",this.state.hintValue.y," Cars Left")))))}}]),n}(m.a.Component),X=(Object(v.b)(function(e){return{data:e.numLeftPoints.map(function(e,t){return{x:t,y:e}})}})(Q),n(61)),K=n(42);window.THREE=K,n(94),n(95),n(96);var J=K;function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(w.a)(e);if(t){var a=Object(w.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var $=100,ee=10,te=function(e){Object(E.a)(a,e);var t=Z(a);function a(){var e;Object(y.a)(this,a);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).drawGeometry=function(){if(!(e.props.vertices.length<4)){var t=e.props.vertices.map(function(e){var t=e.map(function(e){return e*$});return Object(X.a)(J.Vector3,Object(c.a)(t))}),n=new J.ConvexGeometry(t),r=new J.MeshBasicMaterial({color:16711680,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1,opacity:.5,transparent:!0});e.mesh=new J.Mesh(n,r);var a=new J.EdgesGeometry(n),o=new J.LineBasicMaterial({color:0,linewidth:2}),i=new J.LineSegments(a,o);e.mesh.add(i),e.scene.add(e.mesh)}},e.addAxes=function(){var t=new J.AxesHelper(1.5*$);e.scene.add(t);var a=n(97),o=new J.Font(a);[[16711680,[$+$/(2*ee),0,0],[Math.PI/2,Math.PI,0]],[65280,[0,$-$/(2*ee),0],[Math.PI/2,Math.PI/2,0]],[255,[$/(ee*Math.sqrt(2)),-$/(ee*Math.sqrt(2)),$],[Math.PI/2,3*Math.PI/4,0]]].forEach(function(t){var n,a,i=Object(r.a)(t,3),l=i[0],u=i[1],s=i[2],h=o.generateShapes("1",$/ee),f=new J.ShapeBufferGeometry(h),p=new J.Mesh(f,new J.MeshBasicMaterial({color:l,side:J.DoubleSide}));(n=p.position).set.apply(n,Object(c.a)(u)),(a=p.rotation).set.apply(a,Object(c.a)(s)),e.scene.add(p)}),window.lines=[],[[16711680,[$,0,0],[0,0,0]],[65280,[0,$,0],[0,0,-Math.PI/2]],[255,[0,0,$],[0,0,-Math.PI/2]]].forEach(function(t){var n,a,o=Object(r.a)(t,3),i=o[0],l=o[1],u=o[2],s=new J.LineBasicMaterial({color:i}),h=new J.Geometry;h.vertices.push(new J.Vector3(0,0,0),new J.Vector3(0,$/(2*ee)));var f=new J.Line(h,s);(n=f.position).set.apply(n,Object(c.a)(l)),(a=f.rotation).set.apply(a,Object(c.a)(u)),e.scene.add(f),window.lines.push(f)})},e.start=function(){e.frameId||(e.frameId=window.requestAnimationFrame(e.animate))},e.stop=function(){window.cancelAnimationFrame(e.frameId)},e.animate=function(){e.controls.update(),e.renderer.render(e.scene,e.camera),e.frameId=window.requestAnimationFrame(e.animate)},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this.mount.clientWidth,t=this.mount.clientHeight;this.scene=new J.Scene,this.camera=new J.PerspectiveCamera(75,e/t,.1,1e3),this.camera.position.set(1.5*$,1.5*$,.5*$),this.camera.up.set(0,0,1),this.controls=new J.OrbitControls(this.camera,this.mount),this.controls.update(),this.renderer=new J.WebGLRenderer({antialias:!0}),this.renderer.setClearColor(16777215),this.renderer.setSize(e,t),this.mount.appendChild(this.renderer.domElement),this.addAxes(),this.drawGeometry(),this.start()}},{key:"componentDidUpdate",value:function(e){this.props.vertices!==e.vertices&&(this.mesh&&(this.scene.remove(this.mesh),this.mesh.geometry.dispose(),this.mesh.material.dispose()),this.drawGeometry())}},{key:"componentWillUnmount",value:function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{style:{width:"25rem",height:"25rem"},ref:function(t){e.mount=t}})}}]),a}(m.a.Component),ne=n(62),re=n.n(ne),ae=n(44),oe=n(43);function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(w.a)(e);if(t){var a=Object(w.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}function ie(e){var t=e.color;return m.a.createElement("div",{style:{width:"100%",height:"2rem",alignItems:"center",display:"flex"}},m.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:t}}))}function le(e){var t=e.text;return m.a.createElement("div",{style:{height:"2rem",alignItems:"center",display:"flex",justifyContent:"center"}},t)}var ue=function(e){Object(E.a)(n,e);var t=ce(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t={dots:!1,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:1,vertical:!0,verticalSwiping:!0,arrows:!1,swipeToSlide:!0,afterChange:this.props.changeStartingIndex};return m.a.createElement("div",{title:"Click the arrows to change the selected attributes for displaying the convex hull.",style:{width:"12rem"}},m.a.createElement("div",{style:{alignItems:"center",width:"4rem",display:"inline-block",verticalAlign:"middle"}},m.a.createElement(ie,{color:"#ff0000"}),m.a.createElement(ie,{color:"#00ff00"}),m.a.createElement(ie,{color:"#0000ff"})),m.a.createElement("div",{style:{width:"8rem",display:"inline-block",verticalAlign:"middle"}},m.a.createElement("div",{onClick:function(){return e.slider.slickPrev()},style:{cursor:"pointer"}},m.a.createElement(ae.a,{icon:oe.b})),m.a.createElement(re.a,Object.assign({},t,{ref:function(t){return e.slider=t}}),m.a.createElement(le,{text:"Price (USD)"}),m.a.createElement(le,{text:"Year"}),m.a.createElement(le,{text:"Power (HP)"}),m.a.createElement(le,{text:"Used KM"})),m.a.createElement("div",{onClick:function(){return e.slider.slickNext()},style:{cursor:"pointer"}},m.a.createElement(ae.a,{icon:oe.a}))))}}]),n}(m.a.Component);function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(w.a)(e);if(t){var a=Object(w.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var he=function(e){Object(E.a)(n,e);var t=se(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).updateContextHullVertices=function(e){var t=r.props.vertices.map(function(t){for(var n=[],r=0;r<3;++r)n.push(t[(r+e)%4]);return n});r.setState({convexHullVertices:t})},r.changeStartingIndex=function(e){r.setState({index:e}),r.updateContextHullVertices(e)},r.state={index:0,convexHullVertices:e.vertices.map(function(e){return e.slice(0,3)})},r}return Object(b.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.vertices!==e.vertices&&this.updateContextHullVertices(this.state.index)}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement("h4",null,"Convex Hull of Preference Space"),m.a.createElement(te,{vertices:this.state.convexHullVertices}),m.a.createElement("div",{style:{position:"absolute",top:"2rem",left:"20rem"}},m.a.createElement(ue,{changeStartingIndex:this.changeStartingIndex})))}}]),n}(m.a.Component);Object(v.b)(function(e){return{vertices:e.vertices}})(he);var fe=n(18),pe=n.n(fe);function me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(w.a)(e);if(t){var a=Object(w.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var de=function(e){Object(E.a)(n,e);var t=me(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).attributes=[],a.props.attributes.forEach(function(e){var t=Object(r.a)(e,2),n=t[0];t[1];a.props.mask[n]&&a.attributes.push(n)}),a}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=[m.a.createElement("th",{key:"Step No."},"Step")];this.attributes.forEach(function(e){t.push(m.a.createElement("th",{key:e},e))});var n=this.props.prunedPoints.map(function(t,n){var a=Object(r.a)(t,2),o=a[0],i=a[1];return m.a.createElement("tr",{key:n,"data-toggle":"tooltip",title:e.props.labels[o]},[i].concat(Object(c.a)(e.props.candidates[o])).map(function(e,t){return m.a.createElement("td",{key:t},e)}))}),a=this.props.leftPoints.map(function(t,n){return m.a.createElement("tr",{key:n,"data-toggle":"tooltip",title:e.props.labels[t]},e.props.candidates[t].map(function(e,t){return m.a.createElement("td",{key:t},e)}))});return m.a.createElement("div",null,m.a.createElement("h2",null,"Statistics"),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col"},m.a.createElement("h4",null,"The No. of Cars Pruned: ",this.props.prunedPoints.length),m.a.createElement("table",{className:pe()("table","table-hover",{"table-fixed":n.length>7}),style:{minWidth:"37rem"}},m.a.createElement("thead",null,m.a.createElement("tr",null,t)),m.a.createElement("tbody",null,n))),m.a.createElement("div",{className:"col"},m.a.createElement("h4",null,"The No. of Cars Left in the Database:"," ",this.props.leftPoints.length),m.a.createElement("table",{className:pe()("table","table-hover",{"table-fixed":a.length>7}),style:{minWidth:"30rem"}},m.a.createElement("thead",null,m.a.createElement("tr",null,t.slice(1))),m.a.createElement("tbody",null,a)))))}}]),n}(m.a.Component);Object(v.b)(function(e){return{labels:e.labels,candidates:e.candidates,prunedPoints:e.prunedPoints,leftPoints:e.leftPoints,attributes:e.attributes,mask:e.mask}})(de);var ve=function(){return m.a.createElement("div",null,m.a.createElement(Y,null))};function ye(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(w.a)(e);if(t){var a=Object(w.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var be=function(e){Object(E.a)(n,e);var t=ye(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).handleStart=function(){r.props.start()},r.handleModeChange=function(e){r.props.changeMode(e.target.value)},r.inputs={},r.inputs.name=m.a.createRef(),r.inputs.email=m.a.createRef(),r}return Object(b.a)(n,[{key:"render",value:function(){return m.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"40rem"}},m.a.createElement("h1",null,"Phase Two: Evaluation"),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("h4",null,"You just ended phase one. We are now going to phase two Evaluation. We will present you some cars and ask you whether you are interested in them. ",m.a.createElement("br",null)),m.a.createElement("br",null),m.a.createElement("p",{className:"lead text-muted"},'Click the "Continue" button to continue. ',m.a.createElement("br",null)),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-primary",style:{width:"8rem"},onClick:this.handleStart},"Continue")))}}]),n}(m.a.Component),Ee=Object(v.b)(function(e){return{attributes:e.attributes,mask:e.mask,points:e.points,mode:e.mode}},function(e){return{start:function(){e(u("Result"))},toggleMask:function(t,n){return e(s(t,n))},changeMode:function(t){return e(h(t))}}})(be);function ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(w.a)(e);if(t){var a=Object(w.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var we=function(e){Object(E.a)(n,e);var t=ge(n);function n(e){var a;Object(y.a)(this,n),(a=t.call(this,e)).pickRandom=function(e,t){var n=Object(c.a)(e);if(n.length<=t)return n;for(var r=n.length-1;r>0;r--){var a=Math.floor(Math.random()*(r+1)),o=[n[a],n[r]];n[r]=o[0],n[a]=o[1]}return n.slice(0,t)},a.downloadFile=function(e){if(1===e){a.setState(function(e){return{output:[].concat(Object(c.a)(e.output),["\n\n\n\nTOP-1\n\n"],Object(c.a)(a.state.topSample.map(function(t,n){return[t.map(function(e){return e}),e.checkboxValues["myCheckbox".concat(n)],"\n"]})))}},function(){console.log(a.state.checkboxValues)});for(var t={},n=0;n<10;n++)t["myCheckbox".concat(n)]=!1;a.setState({checkboxValues:t});for(var r=[],o=0;o<5;++o)r.push(a.trs[o]);for(var i=[],l=[],u=5;u<a.props.leftPoints.length;++u)(a.props.scores[4]-a.props.scores[u])/a.props.scores[4]<.1?i.push(a.pointsScoreRanking[u]):l.push(a.pointsScoreRanking[u]);for(var s=a.pickRandom(i,5),h=a.pickRandom(l,5),f=0;f<h.length;++f)s.push(h[f]);a.setState({intro:"Here are your top-5 favorite cars.",inst:"Please compare your favorite top-5 cars shown above and the following cars, \n and indicate if you are interested in the following cars? (Note: You could select 0, one, more than one cars in the following list.)",top:r,topSample:s})}else if(5===e){a.state.output.push("\n\n\n\nTOP-5\n\n");for(var p=0;p<a.state.topSample.length;++p)a.state.output.push(a.state.topSample[p].map(function(e){return e})),a.state.output.push(a.state.checkboxValues["myCheckbox".concat(p)]),a.state.output.push("\n");for(var m={},d=0;d<10;d++)m["myCheckbox".concat(d)]=!1;a.setState({checkboxValues:m});for(var v=[],y=0;y<10;++y)v.push(a.trs[y]);for(var b=[],E=[],g=10;g<a.props.leftPoints.length;++g)(a.props.scores[9]-a.props.scores[g])/a.props.scores[9]<.1?b.push(a.pointsScoreRanking[g]):E.push(a.pointsScoreRanking[g]);for(var w=a.pickRandom(b,5),O=a.pickRandom(E,5),x=0;x<O.length;++x)w.push(O[x]);a.setState({intro:"Here are your top-10 favorite cars.",inst:"Please compare your favorite top-10 cars shown above and the following cars, \n and indicate if you are interested in the following cars? (Note: You could select 0, one, more than one cars in the following list.)",top:v,topSample:w})}else{a.state.output.push("\n\n\n\nTOP-10\n\n");for(var k=0;k<a.state.topSample.length;++k)a.state.output.push(a.state.topSample[k].map(function(e){return e})),a.state.output.push(a.state.checkboxValues["myCheckbox".concat(k)]),a.state.output.push("\n");var j={text1:a.props.userName,text2:a.props.userEmail,text3:a.props.interactionResults,text4:a.state.output};fetch("http://121.43.49.206:3000/save-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.error("Error:",e)}),a.props.showEnd()}},a.ths=[],a.props.attributes.forEach(function(e){var t=Object(r.a)(e,2),n=t[0];t[1];if(a.props.mask[n]){var o=m.a.createElement("th",{key:n},n);a.ths.push(o)}}),a.ths.push(m.a.createElement("th",{key:"chooseCheckbox"})),a.pointsScoreRanking=[];for(var o=0;o<a.props.leftPoints.length;++o){for(var i=[],l=a.props.leftPoints[o],u=0;u<a.props.candidates[l].length;++u)i.push(a.props.candidates[l][u]);i.push(a.props.scores[o]),i.push(o+1),a.pointsScoreRanking.push(i)}a.trs=a.props.leftPoints.map(function(e,t){return m.a.createElement("tr",{key:t,"data-toggle":"tooltip",title:a.props.labels[e]},a.props.candidates[e].map(function(e,t){return m.a.createElement("td",{key:t},e)}),m.a.createElement("td",{key:"chooseCheckbox"}))});for(var s=[a.trs[0]],h=[],f=[],p=1;p<a.props.leftPoints.length;++p)(a.props.scores[0]-a.props.scores[p])/a.props.scores[0]<.1?h.push(a.pointsScoreRanking[p]):f.push(a.pointsScoreRanking[p]);for(var d=a.pickRandom(h,5),v=a.pickRandom(f,5),b=0;b<v.length;++b)d.push(v[b]);for(var E=[],g=0;g<a.props.leftPoints.length;++g)E.push(a.pointsScoreRanking[g].map(function(e,t){return e})),E.push("\n");for(var w={},O=0;O<10;O++)w["myCheckbox".concat(O)]=!1;return a.state={intro:"Here is your favorite car.",inst:"Please compare your favorite car shown above and the following cars, \n and indicate if you are interested in the following cars? (Note: You could select 0, one, more than one cars in the following list.)",ths:a.ths,top:s,topSample:d,output:E,checkboxValues:w},a}return Object(b.a)(n,[{key:"handleCheckboxChange",value:function(e){var t=e.target,n=t.id,r=t.checked;this.setState(function(e){return{checkboxValues:Object(i.a)({},e.checkboxValues,Object(l.a)({},n,r))}}),console.log(this.state.checkboxValues)}},{key:"render",value:function(){var e=this,t=this.state.topSample.map(function(t,n){return m.a.createElement("tr",{key:n,"data-toggle":"tooltip",title:e.props.labels[t]},m.a.createElement("td",{key:0},t[0]),m.a.createElement("td",{key:1},t[1]),m.a.createElement("td",{key:2},t[2]),m.a.createElement("td",{key:3},t[3]),m.a.createElement("td",null,m.a.createElement("input",{type:"checkbox",id:"myCheckbox".concat(n),name:"myCheckbox".concat(n),onChange:e.handleCheckboxChange.bind(e),checked:e.state.checkboxValues["myCheckbox".concat(n)]})))});return m.a.createElement("div",null,m.a.createElement("div",{className:"justify-content-center"},m.a.createElement("h4",null,this.state.intro),m.a.createElement("table",{className:pe()("table","table-hover",{"table-fixed":this.trs.length>7}),style:{maxWidth:"40rem",margin:"auto"}},m.a.createElement("thead",null,m.a.createElement("tr",null,this.ths)),m.a.createElement("tbody",null,this.state.top)),m.a.createElement("br",null),m.a.createElement("h5",null,this.state.inst),m.a.createElement("table",{className:pe()("table","table-hover",{"table-fixed":this.trs.length>7}),style:{maxWidth:"40rem",margin:"auto"}},m.a.createElement("thead",null,m.a.createElement("tr",null,this.ths)),m.a.createElement("tbody",null,t)),m.a.createElement("br",null),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-primary",style:{width:"8rem"},onClick:function(){return e.downloadFile(e.state.top.length)}},"Finish"))))}}]),n}(m.a.Component),Oe=Object(v.b)(function(e){return{labels:e.labels,candidates:e.candidates,leftPoints:e.leftPoints,attributes:e.attributes,mask:e.mask,numLeftPoints:e.numLeftPoints,scores:e.scores,userName:e.userName,userEmail:e.userEmail,interactionResults:e.interactionResults}},function(e){return{showEnd:function(){e(u("End")),e({type:"RESTART"})}}})(we);function xe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(w.a)(e);if(t){var a=Object(w.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var ke=function(e){Object(E.a)(n,e);var t=xe(n);function n(e){return Object(y.a)(this,n),t.call(this,e)}return Object(b.a)(n,[{key:"render",value:function(){return m.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"50rem"}},m.a.createElement("h1",null,"Thanks for Your Participation!"))}}]),n}(m.a.Component),je=Object(v.b)(function(e){return{attributes:e.attributes,mask:e.mask,points:e.points,mode:e.mode}},function(e){return{}})(ke);var Re=Object(v.b)(function(e){return{activeComponent:e.activeComponent}})(function(e){switch(e.activeComponent){case"Welcome":return m.a.createElement(L,null);case"Declaration":return m.a.createElement(M,null);case"Introduction":return m.a.createElement(B,null);case"PhaseOne":return m.a.createElement(F,null);case"Interaction":return m.a.createElement(ve,null);case"PhaseTwo":return m.a.createElement(Ee,null);case"Result":return m.a.createElement(Oe,null);case"End":return m.a.createElement(je,null);default:return m.a.createElement("div",null)}});function Se(){Se=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(P){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,c=Object.create(o.prototype),i=new j(a||[]);return r(c,"_invoke",{value:w(e,n,i)}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=u;var h={};function f(){}function p(){}function m(){}var d={};l(d,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(R([])));y&&y!==t&&n.call(y,o)&&(d=y);var b=m.prototype=f.prototype=Object.create(d);function E(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function g(e,t){var a;r(this,"_invoke",{value:function(r,o){function c(){return new t(function(a,c){!function r(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(h).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,i)})}i(l.arg)}(r,o,a,c)})}return a=a?a.then(c,c):c()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=O(c,n);if(i){if(i===h)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function R(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},E(g.prototype),l(g.prototype,c,function(){return this}),e.AsyncIterator=g,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new g(u(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},E(b),l(b,i,"Generator"),l(b,o,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=R,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:R(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}window.Module={onRuntimeInitialized:function(){var e=Object(a.a)(Se().mark(function e(){var t,n,a,c,i,l,u;return Se().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("./datasets/cars.txt","./datasets/labelsOfCars.txt");case 2:t=e.sent,n=Object(r.a)(t,2),a=n[0],c=n[1],l={},(i=[["Price (USD)",{low:1e3,high:5e4,smallerBetter:!0}],["Year",{low:2001,high:2017,smallerBetter:!1}],["Power (HP)",{low:50,high:400,smallerBetter:!1}],["Used KM",{low:1e4,high:15e4,smallerBetter:!0}]]).forEach(function(e){var t=Object(r.a)(e,2),n=t[0];t[1];l[n]=1}),u=Object(o.c)(f,{points:a,labels:c,attributes:i,mask:l}),Object(d.render)(m.a.createElement(v.a,{store:u},m.a.createElement(Re,null)),document.getElementById("root"));case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()};var Pe=document.createElement("script");Pe.src="run.js",Pe.async=!0,document.body.appendChild(Pe)},65:function(e,t,n){e.exports=n(113)}},[[65,2,1]]]);
//# sourceMappingURL=main.277d3923.chunk.js.map